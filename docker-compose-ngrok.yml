# Docker Compose untuk Ngrok
# 
# CATATAN PENTING:
# 1. Ganti YOUR_NGROK_AUTHTOKEN di bawah dengan authtoken ngrok Anda yang sebenarnya
# 2. File ini digunakan untuk menjalankan ngrok ketika backend berjalan di localhost
#
# Cara penggunaan:
# 1. Pastikan backend (server) berjalan di localhost:5000
# 2. Jalankan dengan: docker-compose -f docker-compose-ngrok.yml up ngrok
# 3. URL publik akan muncul di log container
# 4. Gunakan URL tersebut untuk webhook platform eksternal

version: '3.8'
services:
  ngrok:
    image: ngrok/ngrok:latest
    restart: unless-stopped
    ports:
      - "4040:4040"  # Antarmuka web ngrok untuk melihat log
    environment:
      # GANTI TOKEN INI DENGAN NGROK AUTHTOKEN ANDA SENDIRI
      - NGROK_AUTHTOKEN=34mCxVizYr4A83lGuRK9eUr5teL_mwE4i9T1GvBYJoCg2Qn2
    command: http host.docker.internal:5000
    network_mode: bridge